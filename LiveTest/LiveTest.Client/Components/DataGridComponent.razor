@using Microsoft.AspNetCore.Components.QuickGrid
@using TnTComponents
@using TnTComponents.Enum
@using TnTComponents.Events
@using LiveTest.Client.Data


<TnTQuickGrid Items="@Items" Appearance="DataGridAppearance.Default" Height="500">
    <PropertyColumn Property="@((item) => item.Column1)" />
    <PropertyColumn Property="@((item) => item.Column2)" />
    <PropertyColumn Property="@((item) => item.Column3)" />
    <PropertyColumn Property="@((item) => item.Column1)" Sortable="true" Title="Column 4" Format="D6" />
    <PropertyColumn Property="@((item) => item.Column2)" Sortable="true" Title="Column 5" />
    <PropertyColumn Property="@((item) => item.Column3)" Sortable="true" Title="Column 6" Format="MMMM/dd/yyyy" />
    <PropertyColumn Property="@((item) => item.Column1)" Sortable="true" Title="Column 7" />
    <PropertyColumn Property="@((item) => item.Column2)" Sortable="true" Title="Column 8" />
    <PropertyColumn Property="@((item) => item.Column3)" Sortable="true" Title="Column 9" />
</TnTQuickGrid>

<TnTQuickGrid Items="@Items" Appearance="DataGridAppearance.Stripped" Height="500">
    <PropertyColumn Property="@((item) => item.Column1)" />
    <PropertyColumn Property="@((item) => item.Column2)" />
    <PropertyColumn Property="@((item) => item.Column3)" />
    <PropertyColumn Property="@((item) => item.Column1)" Sortable="true" Title="Column 4" Format="D6" />
    <PropertyColumn Property="@((item) => item.Column2)" Sortable="true" Title="Column 5" />
    <PropertyColumn Property="@((item) => item.Column3)" Sortable="true" Title="Column 6" Format="MMMM/dd/yyyy" />
    <PropertyColumn Property="@((item) => item.Column1)" Sortable="true" Title="Column 7" />
    <PropertyColumn Property="@((item) => item.Column2)" Sortable="true" Title="Column 8" />
    <PropertyColumn Property="@((item) => item.Column3)" Sortable="true" Title="Column 9" />
</TnTQuickGrid>

<TnTQuickGrid Items="@Items" Appearance="DataGridAppearance.Compact" Height="500">
    <PropertyColumn Property="@((item) => item.Column1)" />
    <PropertyColumn Property="@((item) => item.Column2)" />
    <PropertyColumn Property="@((item) => item.Column3)" />
    <PropertyColumn Property="@((item) => item.Column1)" Sortable="true" Title="Column 4" Format="D6" />
    <PropertyColumn Property="@((item) => item.Column2)" Sortable="true" Title="Column 5" />
    <PropertyColumn Property="@((item) => item.Column3)" Sortable="true" Title="Column 6" Format="MMMM/dd/yyyy" />
    <PropertyColumn Property="@((item) => item.Column1)" Sortable="true" Title="Column 7" />
    <PropertyColumn Property="@((item) => item.Column2)" Sortable="true" Title="Column 8" />
    <PropertyColumn Property="@((item) => item.Column3)" Sortable="true" Title="Column 9" />
</TnTQuickGrid>

<TnTQuickGrid Items="@Items" Appearance="DataGridAppearance.Stripped | DataGridAppearance.Compact" Height="500">
    <PropertyColumn Property="@((item) => item.Column1)" />
    <PropertyColumn Property="@((item) => item.Column2)" />
    <PropertyColumn Property="@((item) => item.Column3)" />
    <PropertyColumn Property="@((item) => item.Column1)" Sortable="true" Title="Column 4" Format="D6" />
    <PropertyColumn Property="@((item) => item.Column2)" Sortable="true" Title="Column 5" />
    <PropertyColumn Property="@((item) => item.Column3)" Sortable="true" Title="Column 6" Format="MMMM/dd/yyyy" />
    <PropertyColumn Property="@((item) => item.Column1)" Sortable="true" Title="Column 7" />
    <PropertyColumn Property="@((item) => item.Column2)" Sortable="true" Title="Column 8" />
    <PropertyColumn Property="@((item) => item.Column3)" Sortable="true" Title="Column 9" />
</TnTQuickGrid>



@code {
    private IQueryable<DataGridItem>? Items;
    private static object _locker = new();
    private static List<DataGridItem> _items;
    protected override Task OnInitializedAsync() {
        lock (_locker) {
            if (_items == null) {
                var list = new List<DataGridItem>();
                foreach (var i in Enumerable.Range(1, 100)) {
                    list.Add(new DataGridItem() {
                            Column1 = Random.Shared.Next(1, 1000),
                            Column2 = Guid.NewGuid().ToString(),
                            Column3 = new DateTime(Random.Shared.Next(1, 10000), Random.Shared.Next(1, 13), Random.Shared.Next(1, 29))
                        });
                }
                _items = list;
            }
            Items = _items.AsQueryable();
        }

        return Task.CompletedTask;
    }


}